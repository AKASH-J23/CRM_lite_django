{% extends 'task/base.html' %}

{% block content %}
  <h2>Login</h2>
  {% if form.errors %}
    <p style="color: red;">Invalid credentials. Try again.</p>
  {% endif %}
  <form method="post" action="{% url 'auth:login' %}{% if request.GET.next %}?next={{ request.GET.next }}{% endif %}">
    {% csrf_token %}
    {{ form.as_p }}
    {% if request.GET.next %}
      <input type="hidden" name="next" value="{{ request.GET.next }}">
    {% endif %}
    <button type="submit">Log In</button>
  </form>

  <p>Forgot your password? <a href="{% url 'auth:password_reset' %}">Reset here</a></p>
{% endblock %}
